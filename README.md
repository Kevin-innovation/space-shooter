# Soul Survivor - 탄막 생존 게임

![Version](https://img.shields.io/badge/Version-2.0-brightgreen) ![Status](https://img.shields.io/badge/Status-완성-success) ![Platform](https://img.shields.io/badge/Platform-웹브라우저-blue)

Vampire Survivors에서 영감을 받은 브라우저 기반 탄막 생존 게임입니다. JavaScript로 제작되었으며, 복잡한 스킬 시스템과 동적 난이도 조절을 특징으로 합니다.

## 🎮 게임 개요

### 핵심 컨셉
- **장르**: 탄막 슈팅 + 로그라이크 생존
- **플랫폼**: 웹 브라우저 (HTML5 Canvas)
- **조작**: WASD/방향키 이동, 스페이스바 대시
- **목표**: 20분간 생존하며 최고 점수 달성

### 기본 시스템
- **자동 공격**: 가장 가까운 적 자동 타겟팅
- **레벨업**: 경험치 획득 시 3개 스킬 중 선택
- **무한 맵**: 플레이어 중심 카메라 시스템
- **실시간 난이도**: 플레이어 성장에 따른 동적 조절

## 🚀 개발 히스토리

### Phase 1: 기본 게임 시스템 (2025.01.22)

#### 1.1 초기 구조 설정
```
✅ 프로젝트 초기화
├── index.html - 게임 컨테이너 및 UI
├── styles.css - 반응형 스타일링  
├── game.js - 메인 게임 로직
└── Python HTTP 서버 설정 (포트 8092)
```

#### 1.2 핵심 게임플레이
- **플레이어 시스템**: 이동, 체력, 자동 공격
- **적 시스템**: 스폰, AI, 충돌 감지
- **투사체 시스템**: 발사, 관통, 데미지
- **경험치 시스템**: 젬 수집, 레벨업

### Phase 2: 스킬 시스템 구현 (2025.01.22)

#### 2.1 50개 스킬 시스템
```
🎯 스킬 분류
├── 일반 (15개) - 70% 확률
├── 레어 (15개) - 20% 확률  
├── 희귀 (15개) - 7% 확률
└── 전설 (5개) - 3% 확률
```

#### 2.2 스킬 메커니즘
- **중복 방지**: 3개 선택지에서 중복 불가
- **고유/중첩**: 일회성 vs 누적 효과 구분
- **시각적 구분**: 등급별 색상 및 애니메이션

### Phase 3: 보스 시스템 & 밸런싱 (2025.01.22)

#### 3.1 보스 시스템
- **10종 보스**: 각각 고유 능력과 패턴
- **점수 기반 스폰**: 50점마다 보스 등장
- **색상 테마**: 보스별 웨이브 색상 변경
- **특수 공격**: 보스별 고유 탄막 패턴

#### 3.2 난이도 리밸런싱
```
⚖️ 대규모 밸런스 패치
├── 지수적 체력 스케일링 (몬스터: 1.4^웨이브, 보스: 1.8^웨이브)
├── 스킬 데미지 너프 (25 → 8 기본 데미지)
├── 적응형 난이도 (DPS 측정 & 동적 조정)
└── 보스 방어력 시스템 (20-70% 데미지 감소)
```

### Phase 4: 특수 효과 시스템 (2025.01.23)

#### 4.1 연쇄번개 구현
- **60% 발동 확률**
- **2번 연쇄**, 각 연쇄마다 20% 데미지 감소
- **200 거리** 체인 범위
- **시각적 효과**: 하늘색 지그재그 번개

#### 4.2 투사체 특수 효과
```
🔥 4가지 투사체 효과
├── 화염: 3초간 0.5초마다 20% DOT
├── 빙결: 2초간 50% 속도 감소
├── 독: 5초간 1초마다 15% DOT  
└── 폭발: 80 반경 50% 범위 데미지
```

### Phase 5: 무한 맵 시스템 (2025.01.23)

#### 5.1 카메라 시스템
- **10000×10000 월드 좌표계**
- **플레이어 중심** 카메라 팔로우
- **가시성 컬링**: 화면 밖 객체 렌더링 최적화
- **배경 격자**: 무한 맵 시각적 표현

#### 5.2 스폰 시스템 업데이트
- **플레이어 상대 좌표**: 화면 대신 플레이어 기준 스폰
- **거리 기반 정리**: 캔버스 경계 대신 거리로 객체 제거
- **사거리 시스템**: 공격 범위 제한

### Phase 6: 탄막 게임화 (2025.01.23)

#### 6.1 탄막 시스템 강화
```
🎯 일반 적 탄막 (3가지 패턴)
├── 단일: 플레이어 방향 정확 조준
├── 3방향: 30도 분산 탄막
└── 원형: 8방향 동시 발사
```

```
💥 보스 고급 탄막 (4가지 패턴)  
├── 폭발형: 16방향 동시 발사
├── 물결형: 플레이어 방향 9발 연속
├── 십자형: 4방향 시간차 연속 발사
└── 나선형: 24발 회전 패턴
```

#### 6.2 대시 시스템
- **스페이스바** 대시 (3초 쿨다운)
- **0.2초간** 초고속 이동
- **대시 중 무적**
- **방향 입력** 반영 대시

### Phase 7: 스마트 스폰 시스템 (2025.01.23)

#### 7.1 레벨별 동적 스폰
```
📊 레벨별 몬스터 수 제한
├── 레벨 1-3: 7-9마리
├── 레벨 4-6: 12-16마리
├── 레벨 7-10: 19-28마리
└── 레벨 11+: 최대 35마리
```

#### 7.2 특별 웨이브 시스템
```
🌊 4종 특별 웨이브 (30초마다)
├── 몰이: 약한 몬스터 대량 (연한 빨강)
├── 엘리트: 강한 몬스터 소수 (보라)
├── 속도: 빠른 몬스터 중간수 (청록)
└── 탱커: 체력 높은 몬스터 (회색)
```

### Phase 8: 통합 레벨링 시스템 (2025.01.23)

#### 8.1 점수 기반 레벨링
```
💎 차등 경험치 시스템
├── 보스: 100 + (보스킬 × 25) XP
├── 엘리트: 25 XP (빨간 주황)  
├── 탱커: 20 XP (노랑)
├── 속도: 15 XP (노랑)
├── 일반: 6 + (웨이브÷2) XP (초록)
└── 약한: 5 XP (연한 초록)
```

#### 8.2 동적 XP 요구량
- **점수 보너스**: 5000점당 +1 XP
- **생존 보너스**: 1분당 +1 XP  
- **보스 킬 보너스**: 필요 XP 30% 즉시 획득
- **레벨별 감소**: 고득점 시 레벨업 가속

### Phase 9: 통합 난이도 시스템 (2025.01.23)

#### 9.1 통합 난이도 지수 (IDI)
```
🎯 난이도 계산 공식
IDI = 1.0 + (레벨^1.3 × 0.4) + (몬스터수÷100)^1.1 × 0.35) + (보스수^1.4 × 0.25)

📊 기여도 분석  
├── 플레이어 레벨: 40% (스킬 습득 반영)
├── 총 몬스터 생성: 35% (경험 축적 반영)
└── 총 보스 생성: 25% (도전 완수 반영)
```

#### 9.2 난이도별 게임 변화
| 난이도 지수 | 몬스터 수 배율 | 스폰 간격 | 몬스터 강도 |
|-------------|---------------|-----------|-------------|
| 1.0-2.0 | 0.5-0.8배 | 2.5-2.2초 | 기본 |
| 2.0-4.0 | 0.8-1.1배 | 2.2-1.6초 | 2-4배 |
| 4.0-7.0 | 1.1-1.6배 | 1.6-0.9초 | 4-7배 |
| 7.0-10.0 | 1.6-2.0배 | 0.9-0.6초 | 7-10배 |

## 🛠️ 기술 스택

### 프론트엔드
- **HTML5 Canvas**: 2D 게임 렌더링
- **Vanilla JavaScript**: 메인 게임 로직 (ES6+)
- **CSS3**: 반응형 UI 스타일링

### 개발 도구
- **Python HTTP Server**: 로컬 개발 서버
- **Git**: 버전 관리
- **VS Code**: 개발 환경

### 아키텍처 패턴
- **객체지향 설계**: Class 기반 게임 엔티티
- **컴포넌트 시스템**: 모듈화된 게임 시스템
- **이벤트 드리븐**: 실시간 입력 처리

## 📁 프로젝트 구조

```
vam-sur/
├── index.html          # 메인 HTML 페이지
├── styles.css          # 게임 UI 스타일
├── game.js            # 메인 게임 로직 (2000+ 줄)
├── server.log         # 개발 서버 로그
└── README.md          # 프로젝트 문서
```

### 핵심 클래스 구조
```javascript
game.js 주요 클래스:
├── Game: 메인 게임 루프 및 시스템 관리
├── Player: 플레이어 조작, 스킬, 레벨링
├── Enemy: 일반 몬스터 AI 및 탄막
├── Boss: 보스 몬스터 특수 패턴  
├── Projectile: 플레이어 투사체 시스템
└── ExperienceGem: 경험치 젬 수집
```

## 🎯 주요 기능

### ⚔️ 전투 시스템
- **자동 조준**: 가장 가까운 적 자동 공격
- **관통 시스템**: 투사체 관통 능력
- **치명타**: 확률 기반 크리티컬 히트
- **연쇄번개**: 60% 확률 2연쇄 공격
- **특수 효과**: 화염/빙결/독/폭발 투사체

### 🎮 조작 시스템  
- **WASD/방향키**: 8방향 이동
- **스페이스바**: 대시 (3초 쿨다운, 무적)
- **자동 공격**: 수동 조작 불필요
- **레벨업**: 마우스 클릭으로 스킬 선택

### 🏆 진행 시스템
- **50개 스킬**: 4등급 희귀도 시스템
- **점수 기반**: 경험치 및 레벨업 가속
- **보스 도전**: 50점마다 보스 등장
- **특별 웨이브**: 30초마다 랜덤 웨이브

### 🎨 시각적 효과
- **등급별 색상**: 스킬 희귀도 구분
- **탄막 패턴**: 다양한 색상 투사체
- **특수 효과**: 번개, 폭발, DOT 시각화
- **UI 애니메이션**: 레벨업, 대시 효과

## 🔧 설치 및 실행

### 요구사항
- **Python 3.x** (HTTP 서버용)
- **모던 웹브라우저** (Chrome, Firefox, Safari 등)

### 실행 방법
```bash
# 1. 프로젝트 클론 또는 다운로드
git clone <repository-url>
cd vam-sur

# 2. HTTP 서버 실행
python3 -m http.server 8092

# 3. 브라우저에서 접속
# http://localhost:8092
```

### 개발 모드
```bash
# 서버 로그와 함께 실행
python3 -m http.server 8092 > server.log 2>&1 &

# 백그라운드 서버 종료
pkill -f "python3 -m http.server 8092"
```

## 🎲 게임플레이 가이드

### 초보자 팁
1. **초기 3레벨**: 기본 스킬(체력, 공격력, 이동속도) 우선
2. **대시 활용**: 위험할 때 스페이스바로 즉시 회피
3. **경험치 색상**: 주황색(보스) > 빨강(엘리트) > 노랑 > 초록 순
4. **특별 웨이브**: 색깔로 적 타입 파악 후 전략 조정

### 고급 전략
1. **시너지 스킬**: 투사체 수 + 관통 + 크기 조합
2. **탄막 패턴**: 보스별 고유 패턴 학습
3. **점수 관리**: 고득점으로 레벨업 가속 활용
4. **포지셔닝**: 무한 맵 활용한 공간 관리

### 스킬 빌드 예시
```
🔥 화염 마법사 빌드
├── 화염 투사체 + 폭발 투사체
├── 투사체 수 증가 + 관통 강화
└── 치명타 확률 + 데미지 증가

❄️ 빙결 서포터 빌드  
├── 빙결 투사체 + 독 투사체
├── 공격 속도 + 사거리 증가
└── 생명력 흡수 + 방어력 증가

⚡ 번개 어쌔신 빌드
├── 연쇄 번개 + 치명타 마스터
├── 이동 속도 + 시간 가속  
└── 무한 투사체 + 관통 완벽
```

## 📊 게임 밸런스

### 난이도 커브
- **0-5분**: 학습 구간 (쉬움)
- **5-10분**: 도전 구간 (보통)  
- **10-15분**: 생존 구간 (어려움)
- **15-20분**: 마스터리 구간 (매우 어려움)

### 핵심 밸런스 요소
1. **지수적 스케일링**: 몬스터 강화 vs 플레이어 성장
2. **적응형 난이도**: DPS 기반 실시간 조정
3. **스킬 희귀도**: 강력함과 획득 확률의 트레이드오프
4. **자원 관리**: 경험치, 점수, 시간의 균형

## 🚧 알려진 이슈

### 현재 해결된 문제들
- ✅ 레벨업 모달 즉시 표시 문제
- ✅ 스킬 효과 미적용 문제  
- ✅ 게임오버 미작동 문제
- ✅ 무한 맵 경계 처리 문제
- ✅ 탄막 정리 로직 문제

### 개선 가능한 부분
- 🔄 모바일 터치 지원
- 🔄 사운드 효과 추가
- 🔄 시각 효과 최적화
- 🔄 세이브/로드 시스템

## 📈 성능 최적화

### 구현된 최적화
- **가시성 컬링**: 화면 밖 객체 렌더링 스킵
- **객체 풀링**: 투사체 재사용 시스템
- **거리 기반 정리**: 멀리 떨어진 객체 자동 제거
- **프레임 기반 업데이트**: deltaTime 활용

### 렌더링 최적화
- **Canvas 변환**: 카메라 시스템 최적화
- **배치 렌더링**: 동일 타입 객체 그룹 처리
- **효과 관리**: 시각 효과 생명주기 관리

## 👥 개발자 정보

**프로젝트**: Soul Survivor v2.0  
**개발 기간**: 2025.01.22-23 (2일)  
**개발 언어**: JavaScript (Vanilla)  
**총 코드 라인**: 2000+ 줄  
**구현 기능**: 50+ 스킬, 10종 보스, 탄막 시스템  

### 개발 도구
- **Claude Code**: AI 페어 프로그래밍
- **VSCode**: 메인 개발 환경  
- **Git**: 버전 관리
- **Chrome DevTools**: 디버깅 및 최적화

## 📄 라이선스

이 프로젝트는 교육 및 학습 목적으로 제작되었습니다.

---

**🎮 지금 바로 플레이해보세요!**  
`python3 -m http.server 8092` → `http://localhost:8092`